import streamlit as st
from main_ga import run_genetic_algorithm

# --- ุงููุณู ุงูุฎุงุต ุจุฅุนุฏุงุฏ ูุงุฌูุฉ ุงูุตูุญุฉ---
st.set_page_config(
    page_title="ุงูุฎูุงุฑุฒููุฉ ุงููุฑุงุซูุฉ ูุงุฎุชูุงุฑ ุงูููุฒุงุช",
    page_icon="๐งฌ",
    layout="centered"
)

st.title("๐งฌ ุงูุฎูุงุฑุฒููุฉ ุงููุฑุงุซูุฉ (Genetic Algorithm) ูุงุฎุชูุงุฑ ุงูููุฒุงุช")
st.write(
    "ูู ุฎูุงู ูุฐู ุงููุงุฌูุฉ ููููู ุชุดุบูู ุงูุฎูุงุฑุฒููุฉ ุงููุฑุงุซูุฉ ูุงุฎุชูุงุฑ ุงูููุฒุงุช ูู ุจูุงูุงุชู "
    "ูุฑุคูุฉ ุงููุชุงุฆุฌ ูุจุงุดุฑุฉ ูู ุงููุชุตูุญ."
)

# --- ุงููุณู ุงูุฎุงุต ุจุฅุนุฏุงุฏุงุช ุงููุณุชุฎุฏู ---
st.sidebar.header("โ๏ธ ุฅุนุฏุงุฏุงุช ุงูุฎูุงุฑุฒููุฉ")
population_size = st.sidebar.slider("ุนุฏุฏ ุงูุฃูุฑุงุฏ ูู ุงููุฌุชูุน", 10, 200, 50, 10)
generations = st.sidebar.slider("ุนุฏุฏ ุงูุฃุฌูุงู (ุงูุชูุฑุงุฑุงุช)", 10, 500, 100, 10)
mutation_rate = st.sidebar.slider("ูุนุฏู ุงูุทูุฑุฉ", 0.0, 1.0, 0.05, 0.01)

st.sidebar.info("๐ก ููููู ุชุนุฏูู ุงูููู ุฃุนูุงู ูุชุฌุฑุจุฉ ุฅุนุฏุงุฏุงุช ูุฎุชููุฉ.")

# --- ุฒุฑ ุงูุชุดุบูู ---
if st.button("๐ ุชุดุบูู ุงูุฎูุงุฑุฒููุฉ"):
    with st.spinner("ุฌุงุฑู ุชูููุฐ ุงูุฎูุงุฑุฒููุฉ... ุงูุฑุฌุงุก ุงูุงูุชุธุงุฑ ๐"):
        best_chromosome = run_genetic_algorithm()
        num_selected = sum(best_chromosome)
        st.success("โ ุชู ุชูููุฐ ุงูุฎูุงุฑุฒููุฉ ุจูุฌุงุญ!")
        st.write(f"**ุนุฏุฏ ุงูููุฒุงุช ุงููุฎุชุงุฑุฉ:** {num_selected}")
        st.write("**ุงููุฑูููุณูู ุงููุงุชุฌ:**")
        st.code(best_chromosome)

# --- ูุณู ุงูุชุฐููู ---
st.markdown("---")
st.caption("ูุดุฑูุน ูุงุฏุฉ BIA601 | ุชุตููู ุงููุงุฌูุฉ ุจูุงุณุทุฉ Streamlit ๐ป")